
<link type="text/css" rel="stylesheet" media="all" href="../general/bootstrap.css" />
<script type="text/javascript" src="../general/jquery-1.11.3.min.js"></script>
<link type="text/css" rel="stylesheet" media="all" href="../general/business.css" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<script type="text/javascript">
	$(document).ready(function () {
	// Get URL
	  var url = window.location.href;
	  // Get DIV
	  var cvs = document.getElementsByClassName("cvs-pharmacy");
	  var target = document.getElementsByClassName("target");
	  // Check if URL contains the keyword
	  if( url.search( 'target=true' ) > 0 ) {
	      // Display the message
	      	var cvsLength;
				for (cvsLength = 0; cvsLength < cvs.length; cvsLength++) {
				cvs[cvsLength].style.display = "none";
			}
			var targetLength;
				for (targetLength = 0; targetLength < target.length; targetLength++) {
	  			target[targetLength].style.display = "block";
	  			$('.flu-disclaimer.target').css("display", "inline-block");
	  		}
	  }else{
	  		var cvsLength;
				for (cvsLength = 0; cvsLength < cvs.length; cvsLength++) {
				cvs[cvsLength].style.display = "block";
				$('.flu-footer.cvs-pharmacy').css("display", "block");
			}
			var targetLength;
				for (targetLength = 0; targetLength < target.length; targetLength++) {
	  			target[targetLength].style.display = "none";
	  		}	
	  }
	});
</script>
<style type="text/css">
body #dMain.container {width: 100%;}

#promolp #flumain .valign {display: flex; align-items: center;}
#promolp #flumain .promoTextyellow {color: #FFD216;}
#promolp #flumain hr {border-bottom: 1px solid #cccccc; margin: 48px 0 48px 0;}
#promolp #flumain .promoBreak {display: block;}
#promolp #flumain .aligncenter {text-align: center;}
#promolp #flumain .aligncenter .biz-img-responsive {display: inline;}
#promolp #flumain .hero {background: #00334B; padding: 48px 38px;}
#promolp #flumain .hero h2 {font-size: 36px; line-height: 36px;}

/* flu activity */
/*#promolp #flumain .container {max-width: 940px;}*/
#promolp #flumain .fluactivity {background: #cc0000;}
#flustatesresults .hide {display: none;}
#flustatesresults .show {display: block!important;}
#flustatesresults .result {text-transform: lowercase;}
#flustatesresults p.period span.result::after {content: ".";}
h2#statefullname {color: #fff; font-size: 22px; font-weight: bold; line-height: 24px; margin-bottom: 12px; margin-top: 0;}
#stateresult p, #promolp #flumain .fluactivity label {color: #fff; font-size: 16px; font-weight: bold; line-height: 20px; margin-bottom: 0; margin-top: 12px;}
#stateresult a {color: #fff; text-decoration: underline;}
#stateresult a:hover, #stateresult a:active {color: #d6d7d9; text-decoration: underline; text-decoration-color: #d6d7d9;}
#flustatesresults .msg2 {display: none;}
#flustatesresults .msg2, #flustatesresults .mkt-msg {font-weight: normal;}
#flustatesresults .msg2 a, #flustatesresults .mkt-msg a {white-space: nowrap;}
#flustatesresults .mkt-msg::before {content: " flu activity. \A"; font-weight: bold; margin-bottom:12px;  white-space: pre;}
#flubox .styled-select {margin-top: 12px;}
#flubox .styled-select select {
background: #fff url(../general/caret-accordion-black.png) no-repeat center right 12px;
padding: 5px;
font-size: 16px;
line-height: 1;
border: 2px solid #000;
border-radius: 0;
height: 34px;
-webkit-appearance: none;
}

#flubox .styled-select select::-ms-expand {display: none;}

/*loader*/
#wait {
  z-index: 1;
  border: 8px solid #fff;
  border-top: 8px solid #000;
  border-radius: 50%;
  width: 80px;
  height: 80px;
  -webkit-animation: spin 1s linear infinite;
  animation: spin 1s linear infinite;
  display: none;
  margin-left: auto;
  margin-right: auto;
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
} 

/* radio tower */
.fillwhite {fill: #fff;}

#radio_tower{
	max-height: 200px;
	overflow: hidden;
    width: 100px;
}
#inner_circle{
    width: 200px;
    height: 200px;
    position: relative;
    border-radius: 100%;
    -webkit-animation: colorchange1 1s infinite;
    animation: colorchange1 1s infinite;
    fill: #fff;
}
#outer_circle{
    width: 180px;
    height: 180px;
    position: absolute;
    border-radius: 100%;
    top: 18px;
    left: 18px;
    -webkit-animation: colorchange2 1s infinite;
    animation: colorchange2 1s infinite;
    fill: #fff;
}

@-webkit-keyframes colorchange2{
    0% {opacity: 0;}
    25% {opacity: 0.25;}
    50% {opacity: 0.5;}
    75% {opacity: 0.75;}
    100% {opacity: 1;}
}
@keyframes colorchange2{
    0% {opacity: 0;}
    25% {opacity: 0.25;}
    50% {opacity: 0.5;}
    75% {opacity: 0.75;}
    100% {opacity: 1;}
}
@-webkit-keyframes colorchange1{
    0% {opacity: 0.5;}
    25% {opacity: 0.75;}
    50% {opacity: 0.1;}
    75% {opacity: 0;}
    100% {opacity: 0.25;}
}
@keyframes colorchange1{
    0% {opacity: 0.5;}
    25% {opacity: 0.75;}
    50% {opacity: 0.1;}
    75% {opacity: 0;}
    100% {opacity: 0.25;}
}

@media screen and (max-width: 780px) {
    #promolp #flumain .promoBreak {display: inline;}
}

@media screen and (max-width: 768px) {
    #promolp #flumain .hero {padding: 36px 26px;}
}

@media screen and (min-width: 641px) {
	#promolp #flumain .boxborder {border-right: 1px solid #fff; margin-right: 48px;}
	#promolp #flumain .fluactivity {padding: 24px;}
	#flubox .styled-select select {width: 80%;}
}

@media screen and (max-width: 640px) {
	#promolp #flumain .valign {display: block;}
	#promolp #flumain .hero {padding: 24px 0 24px 0;}
	#promolp #flumain .hero h2 {font-size: 28px; line-height: 30px;}
	#promolp #flumain img.smart-img {width: 174px !important;}
	#promolp #flumain .fluactivity {padding-top: 12px;}
	#promolp #flumain .boxborder {padding-top: 12px;}
	#flubox .styled-select select {width: 95%;}
	#flubox .styled-select {margin-bottom: 12px;}
	#flubox {padding-left: 0; padding-right: 0;}
	#stateresult {margin-bottom: 24px;}
}
</style>

<div id="promolp">
  <div id="flumain">
	<h1 class="fs-hlevel3 promoTextblack margin-none-top margin1x-bottom">Flu Shots</h1>

	<div class="fluactivity margin2x-bottom col-xs-24">
	<div class="valign">

	<div id="flubox" class="col-xs-24 col-sm-12">
	  <h2 class="fs-hlevel2 promoTextwhite margin-none-top margin-none-bottom">Health Alert</h2>
	  <label for="flustates">Check for flu activity:</label>
	  <div class="styled-select">
	  <select id="flustates">
	  <option value="none">All states (A-Z)</option>
	  <option value="AL" class="letter">Alabama</option>
	  <option value="AK" class="letter">Alaska</option>
	  <option value="AZ" class="letter">Arizona</option>
	  <option value="AR" class="letter">Arkansas</option>
	  <option value="CA" class="letter">California</option>
	  <option value="CO" class="letter">Colorado</option>
	  <option value="CT" class="letter">Connecticut</option>
	  <option value="DE" class="letter">Delaware</option>
	  <option value="DC" class="letter">District Of Columbia</option>
	  <option value="FL" class="letter">Florida</option>
	  <option value="GA" class="letter">Georgia</option>
	  <option value="HI" class="letter">Hawaii</option>
	  <option value="ID" class="letter">Idaho</option>
	  <option value="IL" class="letter">Illinois</option>
	  <option value="IN" class="letter">Indiana</option>
	  <option value="IA" class="letter">Iowa</option>
	  <option value="KS" class="letter">Kansas</option>
	  <option value="KY" class="letter">Kentucky</option>
	  <option value="LA" class="letter">Louisiana</option>
	  <option value="ME" class="letter">Maine</option>
	  <option value="MD" class="letter">Maryland</option>
	  <option value="MA" class="letter">Massachusetts</option>
	  <option value="MI" class="letter">Michigan</option>
	  <option value="MN" class="letter">Minnesota</option>
	  <option value="MS" class="letter">Mississippi</option>
	  <option value="MO" class="letter">Missouri</option>
	  <option value="MT" class="letter">Montana</option>
	  <option value="NE" class="letter">Nebraska</option>
	  <option value="NV" class="letter">Nevada</option>
	  <option value="NH" class="letter">New Hampshire</option>
	  <option value="NJ" class="letter">New Jersey</option>
	  <option value="NM" class="letter">New Mexico</option>
	  <option value="NY" class="letter">New York</option>
	  <option value="NC" class="letter">North Carolina</option>
	  <option value="ND" class="letter">North Dakota</option>
	  <option value="OH" class="letter">Ohio</option>
	  <option value="OK" class="letter">Oklahoma</option>
	  <option value="OR" class="letter">Oregon</option>
	  <option value="PA" class="letter">Pennsylvania</option>
	  <option value="RI" class="letter">Rhode Island</option>
	  <option value="SC" class="letter">South Carolina</option>
	  <option value="SD" class="letter">South Dakota</option>
	  <option value="TN" class="letter">Tennessee</option>
	  <option value="TX" class="letter">Texas</option>
	  <option value="UT" class="letter">Utah</option>
	  <option value="VT" class="letter">Vermont</option>
	  <option value="VA" class="letter">Virginia</option>
	  <option value="WA" class="letter">Washington</option>
	  <option value="WV" class="letter">West Virginia</option>
	  <option value="WI" class="letter">Wisconsin</option>
	  <option value="WY" class="letter">Wyoming</option>
	  </select>
	  </div>
	</div>

	<div class="col-xs-24 col-sm-12">
	  <div id="flustatesresults">
	    <h2 id="statefullname"></h2>
	    <div id="stateresult"></div>
	    <div id="tower" class="hidden-xs">
	    	<div id="wait"></div>
	        <div class="fillwhite">
	        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	        viewBox="0 0 121 120" style="enable-background:new 0 0 121 120;" xml:space="preserve" class="hccenter-block" id="radio_tower" role="img" alt="">

	        <g>
	        <path class="st0" d="M65.3,48.2c3.9-2.1,6.5-6.2,6.5-10.9c0-6.8-5.6-12.4-12.4-12.4s-12.4,5.6-12.4,12.4c0,4.7,2.7,8.8,6.5,10.9
	        l-19.8,70.4L39,120l6-21.5l32,11.4l2.8,10.1l5.2-1.5L65.3,48.2z M52.4,37.3c0-3.9,3.2-7,7-7s7,3.2,7,7c0,3.9-3.2,7-7,7
	        S52.4,41.1,52.4,37.3z M64.9,66.6l-9.7-4.2l3.6-12.8c0.5,0,0.9,0,1.4,0L64.9,66.6z M53.7,67.6L64,72.1L48.4,86.7L53.7,67.6z
	         M48.4,94l19.2-17.9l7.7,27.5L48.4,94z"/>
	        </g>
	        <g>
	        <path class="st0" id="outer_circle" d="M33.1,63.6c-7-7-10.9-16.4-10.9-26.3c0-9.9,3.9-19.3,10.9-26.3C40.2,3.9,49.5,0,59.5,0
	        c9.9,0,19.3,3.9,26.3,10.9c7,7,10.9,16.4,10.9,26.3c0,9.9-3.9,19.3-10.9,26.3L82,59.8c6-6,9.3-14,9.3-22.5c0-8.5-3.3-16.5-9.3-22.5
	        c-6-6-14-9.3-22.6-9.3s-16.5,3.3-22.5,9.3c-6,6-9.3,14-9.3,22.6c0,8.5,3.3,16.5,9.3,22.5L33.1,63.6L33.1,63.6L33.1,63.6z"/>
	        </g>
	        <g>
	        <path class="st0" id="inner_circle" d="M42,54.7c-4.7-4.7-7.2-10.9-7.2-17.4c0-6.6,2.6-12.8,7.2-17.5c4.7-4.7,10.9-7.2,17.5-7.2
	        c6.6,0,12.8,2.6,17.5,7.2c4.7,4.7,7.2,10.9,7.2,17.5c0,6.6-2.6,12.8-7.2,17.4l-3.8-3.8c3.6-3.7,5.6-8.5,5.6-13.7
	        c0-5.2-2-10-5.7-13.7c-3.7-3.7-8.5-5.7-13.7-5.7c-5.2,0-10,2-13.7,5.7c-3.7,3.7-5.7,8.5-5.7,13.7c0,5.2,2,10,5.6,13.7L42,54.7
	        L42,54.7L42,54.7z"/>
	        </g>
	        </svg>
	    </div>
	    </div>

	  </div>
	</div>

	</div>
	</div><!-- /fluactivity -->

	
  </div>
</div><!-- /promolp -->

<script type="text/javascript">
	$(document).ready(function(){

	    $("select").change(function () {
	        $.ajax({
	        url: "flureport.xml",
	        type: 'GET',
	        dataType: 'xml',
	        async: false,
	        success:function (data) {
             retrieveXml(data);
            },
            complete: function(){
			 $('#wait').hide();
			}
	        });
	    });

		$('#wait').bind('ajaxStart', function(){
		    $(this).show();
		}).bind('ajaxStop', function(){
		    $(this).hide();
		});

		$('#radio_tower').bind('ajaxStart', function(){
		    $(this).hide();
		}).bind('ajaxStop', function(){
		    $(this).show();
		});

	    var retrieveXml = function(data){

	    $(data).find('state').each(function(){
	    var corpName = $(this).find('abbrev').text();

	    // Setup Variables
	    var corpData = {
	    abbrev: ($('abbrev', data).text()),
	    label: ($('label', data).text()),
	    abbrevname:($('abbrev', data).text())
	    };

	    var webOption = $('select#flustates option:selected').val(); 
	    var abbrevname = $('abbrev', data).text();


	    $(data).find('state').each(function(index,item){ 

	        var corpName = $(this).find('abbrev').text();
	        if (webOption == corpName){
	        
	        $("#abbrev").html($(this).find('abbrev').text());
	        $("#label").html($(this).find('label').text());

	        $("#stateresult").html("<p>"+"The CDC reports"+"<span class='result'> "+$(this).find("label").text()+"</span>"+"<span class='mkt-msg'>"+" Protect your family with a flu shot today. "+"<a href='/store-locator/landing'>"+"Find a location"+"</a>"+"."+"</span>"+"<span class='msg2'>"+" Don't wait until it's too late. Come in for your flu shot today. "+"<a href='/store-locator/landing'>"+"Find a location"+"</a>"+"."+"</span>"+"</p>");
	        $('#stateresult p:contains("Activity")').addClass('period').find('.mkt-msg').addClass('hide');
	        $('#stateresult p:contains("Activity")').find('.msg2').addClass('show');

	        }
	    });
	    });
	    };

	    $('select#flustates').change(function() {
	      var str = "";
	      $("select#flustates option:selected").each(function() {str += $(this).text() + " ";});
	      $("#statefullname").text(str);

	      if($('select#flustates').find("option:selected").val() == "none") {
	         $("#flustatesresults").find('#statefullname, #stateresult').addClass('hide');
	         $("#flustatesresults").find('#tower').removeClass('hide');
	         $(".fluactivity").find('#flubox').removeClass('boxborder');
	    }else{
	        $('#statefullname, #stateresult').removeClass('hide');
	        $("#flustatesresults").find('#tower').addClass('hide');
	        $(".fluactivity").find('#flubox').addClass('boxborder');
	    }

	    })
	    .trigger("change");

	});
</script>

